---
import BaseLayout from "../layouts/BaseLayout.astro";
import Navbar from "../components/Navbar.astro";
import Footer from "../components/Footer.astro";
import { Image } from "astro:assets";
import { t } from "../utils/i18n";

const lang = Astro.props.language || "en";
const translations = t(lang).home;
---

<BaseLayout
    title={translations.meta.title}
    description={translations.meta.description}
>
    <Navbar language={lang} />

    <section
        class="relative h-[500px] md:h-[850px] flex items-center justify-center overflow-hidden"
    >
        <!-- Background Image -->
        <div class="absolute inset-0">
            <Image
                src={import("../assets/home/hero_bg.jpg")}
                alt={translations.hero.altHeroBackground}
                class="w-full h-full object-top object-cover"
                loading="lazy"
            />
            <div class="absolute inset-0 bg-white/55"></div>
        </div>

        <!-- Content -->
        <div class="relative text-center max-w-9xl px-6">
            <p
                class="mb-3 text-lg md:text-2xl font-poppins text-shadow-[2px_2px_8px_rgba(0,0,0,0.3)]"
            >
                {translations.hero.welcome}
            </p>

            <h1
                class="text-5xl md:text-8xl font-bold leading-tight text-black text-shadow-[2px_2px_8px_rgba(0,0,0,0.3)]"
            >
                {translations.hero.title}
            </h1>
        </div>
        <div class="absolute text-center w-full flex max-w-9xl justify-between">
            <!-- Left Image (Fly in) -->
            <Image
                src={import("../assets/home/hero_1.png")}
                alt={translations.hero.altHeroLeft}
                class="hidden 2xl:block w-48 mb-120 shadow-xl rounded border-4 border-white animate-fly-left shadow-xs shadow-black"
            />
            <!-- Right Image (Fly in) -->
            <Image
                src={import("../assets/home/hero_2.jpg")}
                alt={translations.hero.altHeroRight}
                class="hidden 2xl:block mt-120 w-48 shadow-xl rounded border-4 border-white animate-fly-right shadow-xs shadow-black"
            />
        </div>
    </section>
    <section id="about" class="relative py-20 overflow-hidden">
        <!-- Background -->
        <div class="absolute inset-0">
            <Image
                alt={translations.about.altAboutBackground}
                loading="lazy"
                src={import("../assets/home/about-anim.gif")}
                class="w-full h-full object-cover opacity-40"
            />
            <div class="absolute inset-0 bg-[#b7a27a]/80"></div>
        </div>

        <div class="relative max-w-9xl mx-auto px-6">
            <!-- Title -->
            <h2 class="text-4xl md:text-5xl font-bold mb-10 reveal">{translations.about.title}</h2>

            <div
                class="flex h-auto flex-col md:flex-row gap-10 md:gap-20 items-center"
            >
                <!-- Left Image -->
                <div class="flex flex-1">
                    <Image
                        src={import("../assets/home/qci-front-1.jpg")}
                        alt={translations.about.altQciFront}
                        class="rounded shadow-2xl border-4 border-white reveal-left h-130 w-auto"
                    />
                </div>

                <!-- Right Content -->
                <div
                    class="space-y-5 text-center md:text-left flex-2 align-left justify-start"
                >
                    <p class="text-2xl reveal">
                        {translations.about.subtitle}
                    </p>

                    <p
                        class="text-base md:text-3xl leading-relaxed reveal leading-tight"
                    >
                        {translations.about.description}
                    </p>

                    <a
                        href="/en/about"
                        class="bg-teal-700 text-white px-6 py-3 rounded-full shadow reveal inline-block"
                        aria-label="Learn more about Quality Coils Industries"
                    >
                        {translations.about.learnMore}
                    </a>

                    <!-- Flags -->
                    <div
                        class="grid grid-cols-2 gap-4 w-100 mx-auto md:mx-0 md:absolute md:right-0"
                    >
                        <Image
                            src={import("../assets/home/flag-japan.gif")}
                            alt={translations.about.altFlagJapan}
                            class="shadow-md reveal w-100 h-30"
                            width={400}
                            height={120}
                            loading="lazy"
                        />
                        <Image
                            src={import("../assets/home/flag-south-africa.gif")}
                            alt={translations.about.altFlagSouthAfrica}
                            class="shadow-md reveal w-100 h-30"
                            width={400}
                            height={120}
                            loading="lazy"
                        />
                        <Image
                            src={import("../assets/home/flag-south-korea.gif")}
                            alt={translations.about.altFlagSouthKorea}
                            class="shadow-md reveal w-100 h-30"
                            width={400}
                            height={120}
                            loading="lazy"
                        />
                        <Image
                            src={import("../assets/home/flag-us.gif")}
                            alt={translations.about.altFlagUs}
                            class="shadow-md reveal w-100 h-30"
                            width={400}
                            height={120}
                            loading="lazy"
                        />
                    </div>
                </div>
            </div>

            <!-- Bottom Image -->
            <div class="flex 2xl:ml-30 mt-12">
                <Image
                    src={import("../assets/home/qci-front-2.jpg")}
                    alt={translations.about.altQciFacility}
                    class="border-3 border-white shadow-md shadow-black w-full md:w-auto max-w-3xl reveal"
                    loading="lazy"
                />
            </div>
        </div>
    </section>

    <section class="relative overflow-hidden">
        <!-- Split Background -->
        <div class="absolute inset-0 grid grid-cols-1 md:grid-cols-2">
            <div class="bg-[#cfd8dc]"></div>
            <div class="bg-[#d8d2c8]"></div>
        </div>

        <div class="relative max-w-9xl mx-auto px-6 py-20">
            <div class="grid md:grid-cols-2 gap-10 items-center">
                <!-- LEFT CONTENT -->
                <div>
                    <h2 class="text-4xl md:text-6xl font-bold mb-6 reveal">
                        {translations.expansion.title}
                    </h2>

                    <h3 class="text-3xl font-semibold mb-4 reveal">
                        {translations.expansion.subtitle}
                    </h3>

                    <p class="text-gray-700 mb-4 reveal text-2xl">
                        {translations.expansion.malaysiaText}
                    </p>

                    <p class="text-gray-700 mb-6 reveal text-2xl">
                        {translations.expansion.thailandText}
                    </p>

                    <div class="flex justify-between gap-6 items-start">
                        <!-- Small Image -->
                        <Image
                            src={import("../assets/home/thai-front-1.jpg")}
                            alt={translations.expansion.altThaiFacility}
                            class="shadow-lg border-4 border-white reveal-left w-60"
                            loading="lazy"
                        />

                        <!-- Button -->
                        <a
                            href="/en/about"
                            class="h-fit bg-gray-700 text-white px-6 py-3 rounded shadow hover:scale-105 transition reveal text-sm md:text-xl inline-block"
                            aria-label="Explore more about QCI Malaysia and Thailand facilities"
                        >
                            {translations.expansion.exploreMore}
                        </a>
                    </div>
                </div>

                <!-- RIGHT IMAGE COLLAGE -->
                <div class="relative flex-col 2xl:h-[750px]">
                    <!-- Top Image -->
                    <Image
                        src={import("../assets/home/thai-front-2.jpg")}
                        alt={translations.expansion.altThaiProduction}
                        class="2xl:absolute left-20 w-130 border-4 mb-10 border-teal-600 shadow-xl reveal-right"
                        loading="lazy"
                    />

                    <!-- Bottom Image -->
                    <Image
                        src={import("../assets/home/thai-front-3.jpg")}
                        alt={translations.expansion.altThaiManufacturing}
                        class="2xl:absolute top-110 left-80 w-130 border-4 border-teal-600 shadow-xl reveal-right"
                        loading="lazy"
                    />
                </div>
            </div>
        </div>
    </section>

    <section class="bg-[#7fa99a] py-20 overflow-hidden">
        <div class="max-w-9xl mx-auto px-6 text-center">
            <!-- Titles -->
            <h2 class="text-4xl md:text-7xl font-bold mb-4 reveal">
                {translations.advantage.title}
            </h2>

            <h3 class="text-2xl md:text-5xl font-semibold mb-14 reveal">
                {translations.advantage.subtitle}
            </h3>

            <!-- 3 Column Layout -->
            <div class="grid md:grid-cols-3 gap-10 items-top text-left">
                <!-- LEFT TEXT -->
                <div class="reveal 2xl:text-right flex-col">
                    <h4 class="font-bold text-2xl mb-3">{translations.advantage.leftTitle}</h4>

                    <p class="text-xl leading-relaxed">
                        {translations.advantage.leftText}
                    </p>
                </div>

                <!-- CENTER IMAGE (HOVER SWAP) -->
                <div class="flex justify-center reveal">
                    <div class="relative w-100 h-100 group cursor-pointer">
                        <!-- Image 1 -->
                        <Image
                            src={import("../assets/home/coil-wood.png")}
                            alt={translations.advantage.altCoilWood}
                            class="absolute inset-0 w-full h-full object-cover border-4 border-[#355f52] shadow-xl transition-opacity duration-500 group-hover:opacity-0"
                            loading="lazy"
                        />

                        <!-- Image 2 -->
                        <Image
                            src={import("../assets/home/coil-charcoal.png")}
                            alt={translations.advantage.altCoilCharcoal}
                            class="absolute inset-0 w-full h-full object-cover border-4 border-[#355f52] shadow-xl opacity-0 transition-opacity duration-500 group-hover:opacity-100"
                            loading="lazy"
                        />
                    </div>
                </div>

                <!-- RIGHT BULLETS -->
                <div class="text-sm leading-relaxed reveal">
                    <ul class="space-y-3 list-disc pl-5 text-xl">
                        {translations.advantage.benefits.map((benefit: string) => (
                            <li>{benefit}</li>
                        ))}
                    </ul>
                </div>
            </div>

            <!-- Button -->
            <div class="mt-14">
                <a
                    href="/en/oem-advantage"
                    class="bg-gray-800 text-white px-8 py-3 rounded shadow hover:scale-105 transition reveal inline-block"
                    aria-label="View more about QCI's exclusive production lines advantage"
                >
                    {translations.advantage.viewMore}
                </a>
            </div>
        </div>
    </section>

    <section class="bg-[#d6c39a] py-20">
        <div class="max-w-9xl mx-auto px-6 text-center">
            <!-- Title -->
            <h2 class="text-4xl md:text-6xl font-bold mb-4">
                {translations.trust.title}
            </h2>

            <p class="font-semibold max-w-3xl mx-auto mb-16 text-2xl">
                {translations.trust.subtitle}
            </p>

            <!-- GRID -->
            <div class="grid md:grid-cols-3 gap-10">
                <!-- CARD 1 -->
                <div class="group cursor-pointer">
                    <div class="feature-card">
                        <Image
                            src={import("../assets/home/trust-quality.png")}
                            alt={translations.trust.quality.alt}
                            class="w-40 2xl:w-100 mb-10 mx-auto"
                            loading="lazy"
                        />
                        <p class="feature-text text-2xl">
                            {translations.trust.quality.text}
                        </p>
                    </div>
                </div>

                <!-- CARD 2 -->
                <div class="group cursor-pointer">
                    <div class="feature-card">
                        <Image
                            src={import("../assets/home/trust-commitment.png")}
                            alt={translations.trust.commitment.alt}
                            class="w-40 2xl:w-100 mb-10 mx-auto"
                            loading="lazy"
                        />
                        <p class="feature-text text-2xl">
                            {translations.trust.commitment.text}
                        </p>
                    </div>
                </div>

                <!-- CARD 3 -->
                <div class="group cursor-pointer">
                    <div class="feature-card">
                        <Image
                            src={import("../assets/home/trust-integrity.png")}
                            alt={translations.trust.integrity.alt}
                            class="w-40 2xl:w-100 mb-10 mx-auto"
                            loading="lazy"
                        />
                        <p class="feature-text text-2xl">
                            {translations.trust.integrity.text}
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <section class="bg-[#cfd8dc] py-20">
        <div class="max-w-9xl mx-auto px-6 text-center">
            <!-- Title -->
            <h2 class="text-4xl md:text-7xl font-bold mb-16">{translations.offerings.title}</h2>

            <!-- CROSS CONTAINER -->
            <div class="relative max-w-9xl mx-auto">
                <!-- Vertical line -->
                <div
                    class="hidden md:block absolute left-1/2 top-0 bottom-0 w-[2px] bg-green-700/40 -translate-x-1/2"
                >
                </div>

                <!-- Horizontal line -->
                <div
                    class="hidden md:block absolute top-1/2 left-0 right-0 h-[2px] bg-green-700/40 -translate-y-1/2"
                >
                </div>

                <!-- GRID -->
                <div class="grid md:grid-cols-2 gap-y-50 gap-x-50 relative">
                    {translations.offerings.items.map((item: any) => (
                        <div class="space-y-2">
                            <h3 class="font-semibold text-3xl">
                                {item.title}
                            </h3>
                            <p class="text-gray-600 text-2xl">
                                {item.description}
                            </p>
                        </div>
                    ))}
                </div>

                <!-- CENTER BUTTON -->
                <div
                    class="hidden md:block absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2"
                >
                    <a
                        href="/en/products"
                        class="bg-green-700 text-white px-6 py-3 text-2xl rounded shadow hover:scale-105 transition inline-block"
                        aria-label="Discover more about our product offerings and services"
                    >
                        {translations.offerings.discoverMore}
                    </a>
                </div>
            </div>

            <!-- Mobile button -->
            <div class="md:hidden mt-10">
                <a
                    href="/en/products"
                    class="bg-green-700 text-white px-6 py-3 rounded shadow inline-block"
                    aria-label="Discover more about our product offerings and services"
                >
                    {translations.offerings.discoverMore}
                </a>
            </div>

            <!-- Bottom Text -->
            <div class="mt-20 space-y-4 max-w-9xl mx-auto">
                <p class="font-semibold text-3xl">
                    {translations.offerings.closingText1}
                </p>

                <p class="font-bold text-3xl">
                    {translations.offerings.closingText2}
                </p>
            </div>
        </div>
    </section>
    <Footer language={lang} />
</BaseLayout>

<script>
    const observer = new IntersectionObserver(
        (entries) => {
            entries.forEach((entry) => {
                if (entry.isIntersecting) {
                    entry.target.classList.add("show");
                }
            });
        },
        { threshold: 0.2 },
    );
    document
        .querySelectorAll(".reveal, .reveal-left")
        .forEach((el) => observer.observe(el));

    const observe2 = new IntersectionObserver(
        (entries) => {
            entries.forEach((entry) => {
                if (entry.isIntersecting) {
                    entry.target.classList.add("show");
                }
            });
        },
        { threshold: 0.25 },
    );
    document
        .querySelectorAll(".reveal, .reveal-left, .reveal-right")
        .forEach((el) => observe2.observe(el));

    const observer3 = new IntersectionObserver(
        (entries) => {
            entries.forEach((entry) => {
                if (entry.isIntersecting) {
                    entry.target.classList.add("show");
                }
            });
        },
        { threshold: 0.2 },
    );
    document.querySelectorAll(".reveal").forEach((el) => observer3.observe(el));
</script>

<style>
    /* hero section */
    /* Fly-in Animations */
    @keyframes flyLeft {
        from {
            transform: translateX(-150px);
            opacity: 0;
        }
        to {
            transform: translateX(0);
            opacity: 1;
        }
    }

    @keyframes flyRight {
        from {
            transform: translateX(150px);
            opacity: 0;
        }
        to {
            transform: translateX(0);
            opacity: 1;
        }
    }

    .animate-fly-left {
        animation: flyLeft 1s ease-out forwards;
    }

    .animate-fly-right {
        animation: flyRight 1s ease-out forwards;
    }
    /* hero section */
    /* second section*/
    .reveal,
    .reveal-left {
        opacity: 0;
        transform: translateY(30px);
        transition: all 0.9s ease;
    }

    .reveal-left {
        transform: translateX(-60px);
    }

    /* When visible */
    .reveal.show {
        opacity: 1;
        transform: translateY(0);
    }

    .reveal-left.show {
        opacity: 1;
        transform: translateX(0);
    }
    /* second section*/
    /* third section*/
    /* Hidden state */
    .reveal,
    .reveal-left,
    .reveal-right {
        opacity: 0;
        transition: all 1s ease;
    }

    .reveal {
        transform: translateY(40px);
    }
    .reveal-left {
        transform: translateX(-80px);
    }
    .reveal-right {
        transform: translateX(80px);
    }

    /* Show */
    .show {
        opacity: 1;
        transform: translate(0, 0);
    }
    /* third section*/
    /* fourth section*/
    /* Reveal animation */
    .reveal {
        opacity: 0;
        transform: translateY(40px);
        transition: all 1s ease;
    }

    .show {
        opacity: 1;
        transform: translateY(0);
    }
    /* forthe fourth section*/
    /* fifth section */
    .feature-card {
        background: transparent;
        padding: 40px 30px;
        border-radius: 14px;
        transition: all 0.35s ease;
    }

    .icon {
        font-size: 70px;
        margin-bottom: 15px;
        transition: 0.3s;
    }

    /* hidden text by default */
    .feature-text {
        opacity: 0;
        transform: translateY(10px);
        transition: 0.3s;
    }

    /* hover = active style */
    .group:hover .feature-card {
        background: #e8e1b8;
        box-shadow: 0 12px 30px rgba(0, 0, 0, 0.15);
        transform: translateY(-6px) scale(1.05);
    }

    .group:hover .icon {
        transform: scale(1.15);
    }

    .group:hover .feature-text {
        opacity: 1;
        transform: translateY(0);
    }
    /* fifth section */
</style>
